(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{525:function(n,t,e){"use strict";e.r(t);var i=e(6),r=Object(i.a)({},(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("p",[n._v("##瀑布流")]),n._v(" "),e("p",[n._v("思路：")]),n._v(" "),e("ol",[e("li",[n._v("通过计算一行能够容纳几列元素（因为我们需要在不同的设备上浏览），")]),n._v(" "),e("li",[n._v("通过计算比较找出这一列元素中高度之和最小一列，")]),n._v(" "),e("li",[n._v("将下一行的第一个元素添加至高度之和最小的这一列的下面，")]),n._v(" "),e("li",[n._v("继续计算所有列中高度之和最小的那一列，")]),n._v(" "),e("li",[n._v("继续将新元素添加至高度之和最小的那一列后面，直至所有元素添加完毕。")])]),n._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("&lt;script>\n    var items = document.getElementsByClassName('item');\n    //定义间隙10像素\n    var gap = 10;\n    //进页面执行函数\n    window.onload = function () {\n        waterFall();\n    }\n\n    function waterFall() {\n        //首先确定列数 = 页面的宽度 / 图片的宽度\n        var pageWidth = getClient().width;\n        var itemWidth = items[0].offsetWidth;\n        var columns = parseInt(pageWidth / (itemWidth + gap));\n        var arr = [];//定义一个数组，用来存储元素的高度\n        for(var i = 0;i &lt; items.length; i++){\n            if(i &lt; columns) {\n                //满足这个条件则说明在第一行，文章里面有提到\n                items[i].style.top = 0;\n                items[i].style.left = (itemWidth + gap) * i + 'px';\n                arr.push(items[i].offsetHeight);\n            }else {\n                //其他行，先找出最小高度列，和索引\n                //假设最小高度是第一个元素\n                var minHeight = arr[0];\n                var index = 0;\n                for(var j = 0; j &lt; arr.length; j++){//找出最小高度\n                   if(minHeight > arr[j]){\n                       minHeight = arr[j];\n                       index = j;\n                   } \n                }\n                //设置下一行的第一个盒子的位置\n                //top值就是最小列的高度+gap\n                items[i].style.top = arr[index] + gap + 'px';\n                items[i].style.left = items[index].offsetLeft + 'px';\n\n                //修改最小列的高度\n                //最小列的高度 = 当前自己的高度 + 拼接过来的高度 + 间隙的高度\n                arr[index] = arr[index] + items[i].offsetHeight + gap;\n            }\n        }\n    }\n\n    //当页面尺寸发生变化时，触发函数，实现响应式\n    window.onresize = function () {\n        waterFall();\n    }\n\n    // clientWidth 处理兼容性\n    function getClient() {\n        return {\n            width: window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth,\n            height: window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight\n        }\n    }\n    // scrollTop兼容性处理\n    function getScrollTop() {\n        return window.pageYOffset || document.documentElement.scrollTop;\n    }\n&lt;/script>\n")])])]),e("p",[e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/55575862",target:"_blank",rel:"noopener noreferrer"}},[n._v("参考链接"),e("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=r.exports}}]);